/**############################################################################
#
#
# Copyright (C) 2021 by Christian Scheunert
#
# Email: christian.scheunert@tu-dresden.de
#
#############################################################################*/

#ifndef __IOOPTION_H
#define __IOOPTION_H

/**############################################################################
# INCLUDES
#############################################################################*/

#include <iostream>
#include <string>
#include <valarray>
#include <vector>


/**############################################################################
# NAMES
#############################################################################*/

using namespace std;


/**############################################################################
# DEFINES
#############################################################################*/

/******************************************************************************
 * @ref IoOptionExcept specific constant numbers for errors thrown by
 * several functions of @ref IoOption.
 * @see
 *****************************************************************************/
#define ERROR_OPTION_ALREADY_EXISTS              1
#define ERROR_PARAMETER_BEFORE_OPTION            2
#define ERROR_MISSING_CHARS_IN_OPTION_NAME       3
#define ERROR_MISSING_CHARS_IN_OPTION_SHORTCUT   4
#define ERROR_TOO_MANY_CHARS_IN_OPTION_SHORTCUT  5
#define ERROR_OPTION_HAS_ALREADY_BEEN_SET        6
#define ERROR_UNKNOWN_OPTION                     7
#define ERROR_TOO_MANY_PARAMETERS                8
#define ERROR_PARAMETER_INDEX_OUT_OF_RANGE       9


/**############################################################################
# CLASS DECLARATIONS
#############################################################################*/

/******************************************************************************
 * A Exception class that refers to the @ref IoOption class.
 * @see
 *****************************************************************************/
class IoOptionExcept {
public:
  /** the number of error ****************************************************/
  int num;
  /****************************************************************************
   * This construction function is used to set the number of exception.
   * @param _num Number of error that has been found.
   * @see
   ***************************************************************************/
  IoOptionExcept(int _num);
};


/******************************************************************************
 *
 * @see
 *****************************************************************************/
class IoOption {
  /** */
  class Option {
  public:
    /** */
    bool isSet;
    /** */
    string name;
    /** */
    string shortcut;
    /** */
    unsigned long maxNumParam;
    /** */
    vector<string> paramList;
  };
  /** */
  vector<Option> optionList;
public:
  /****************************************************************************
   * @see
   ***************************************************************************/
  IoOption();
  /****************************************************************************
   * @see
   ***************************************************************************/
  ~IoOption();
  /****************************************************************************
   * @see
   ***************************************************************************/
  void addOption(const string &_name, const string &_shortcut,
                 const unsigned int &_maxNumParam);
  /****************************************************************************
   * @see
   ***************************************************************************/
  void extractOptions(int argc, char *argv[]);
  /****************************************************************************
   * @see
   ***************************************************************************/
  bool getParam(string &_param, const string &_optionName,
                const unsigned long &_index = 0);
  /****************************************************************************
   * @see
   ***************************************************************************/
  bool getParams(valarray<string> &_params, const string &_optionName);
};


/**############################################################################
# INLINE MEMBER DEFINITIONS
#############################################################################*/


/**############################################################################
# TEMPLATE MEMBER DEFINITIONS
#############################################################################*/


/**############################################################################
# NON MEMBER DECLARATIONS
#############################################################################*/

 
/**############################################################################
# END OF FILE
#############################################################################*/

#endif /* __IOOPTION_H *******************************************************/
